(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{27:function(e,t,a){e.exports=a(57)},32:function(e,t,a){},33:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),s=(a(32),a(33),a(5)),i=a(8),u=a(1),m=function(e){var t=r.a.useState(),a=Object(s.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),void 0!==n&&e.handleSubmit(n)}},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-large",onChange:function(e){c(e.target.value)},type:"text",placeholder:"Find a movie"})),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-info is-large"},"Search")))))},o=a(7),d=a.n(o),v=a(10),E=a(11),p=a.n(E),f="https://www.omdbapi.com/?apikey=",h=function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(f).concat("26277d7a","&s=").concat(t)).then((function(e){return void 0!==e.data.Error?(Promise.reject("The movie was not found"),[]):e.data.Search.map((function(e){return"N/A"===e.Poster?(e.Poster="https://i.redd.it/valbyu8f61gz.jpg",e):e}))})).catch((function(){Promise.reject("Some error with the api")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(f).concat("26277d7a","&i=").concat(t)).then((function(e){return e.data.Error?Promise.reject({}):"N/A"===e.data.Poster?(e.data.Poster="https://i.redd.it/valbyu8f61gz.jpg",e.data):e.data})).catch((function(e){Promise.reject({})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return r.a.createElement(i.b,{to:"/movie_details/".concat(e.imdbID)},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3 image-card"},r.a.createElement("img",{src:e.Poster,alt:e.Title}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},e.Title),r.a.createElement("p",{className:"subtitle is-6"},e.Year))))))},b=function(e){var t=e.children.map((function(e){return r.a.createElement("div",{className:"MoviesList-item",key:e.imdbID},r.a.createElement(g,{Poster:e.Poster,Year:e.Year,Title:e.Title,imdbID:e.imdbID}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"MoviesList"},t))},y=function(e){return r.a.createElement("h1",{className:"title"},e.children)},w=r.a.createContext({});function S(e,t){switch(t.type){case"request":return{status:"loading"};case"success":return{status:"success",data:t.results};case"failure":return{status:"error",error:t.error};default:return{status:"empty"}}}var P=function(){var e=r.a.useReducer(S,{status:"empty"}),t=Object(s.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),l=Object(s.a)(c,2),i=l[0],u=l[1],o=r.a.useContext(w),d=o.movieSearched,v=o.setMovieSearched;r.a.useEffect((function(){"empty"===a.status&&d.length>0?n({type:"success",results:d}):"loading"===a.status&&""!==i&&h(i).then((function(e){return e.length>0?(n({type:"success",results:e}),v(e)):n({type:"failure",error:"no hay resultados"})})).catch((function(e){return n({type:"failure",error:e})}))}),[d,i,v,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:function(){switch(a.status){case"empty":return"SearchForm-wrapper centered";default:return"SearchForm-wrapper"}}()},r.a.createElement(y,null,"Movie Finder"),r.a.createElement(m,{handleSubmit:function(e){u(e),""!==e&&n({type:"request"})}})),r.a.createElement("div",{className:"container"},function(){switch(a.status){case"empty":return r.a.createElement(r.a.Fragment,null);case"loading":return r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"custom-spinner"}));case"success":return r.a.createElement("div",{className:"PrintResults-wrapper"},r.a.createElement(b,null,a.data));case"error":return r.a.createElement("h2",{className:"subtitle is-2"},"\ud83d\udca9 There aren't results \ud83d\udc4e ",r.a.createElement("br",null),"Please try again!")}}()))},j=function(){var e=Object(u.g)().id,t=Object(u.f)().goBack,a=r.a.useState(),n=Object(s.a)(a,2),c=n[0],l=n[1];r.a.useEffect((function(){N(e).then((function(e){return l(e)})).catch((function(){return l(null)}))}),[e]);return r.a.createElement(r.a.Fragment,null,void 0===c?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-vcentered"},r.a.createElement("progress",{className:"progress is-large is-info",max:"10"}))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column is-half"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content"},r.a.createElement("button",{className:"button is-info",onClick:function(){return t()}},"\u21a9"),r.a.createElement("h1",{className:"title is-1"},null===c||void 0===c?void 0:c.Title),r.a.createElement("figure",{className:"image-movie"},r.a.createElement("img",{src:null===c||void 0===c?void 0:c.Poster,alt:"poster"})),r.a.createElement("h2",{className:"subtitle is-3"},null===c||void 0===c?void 0:c.Year),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Genre: "),null===c||void 0===c?void 0:c.Genre),r.a.createElement("p",null,r.a.createElement("strong",null,"Rating: "),null===c||void 0===c?void 0:c.imdbRating,"/10 \u2b50"),r.a.createElement("p",null,r.a.createElement("strong",null,"Director: "),null===c||void 0===c?void 0:c.Director),r.a.createElement("p",null,r.a.createElement("strong",null,"Country: "),null===c||void 0===c?void 0:c.Country),r.a.createElement("p",null,null===c||void 0===c?void 0:c.Plot))),r.a.createElement("div",null)))),r.a.createElement("div",{className:"column"}))))},x=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"404"),r.a.createElement("p",null),r.a.createElement("p",null),r.a.createElement("h2",{className:"subtitle"},"Not Found"))},F=function(){var e=r.a.useState([]),t=Object(s.a)(e,2),a=t[0],n=t[1];return r.a.createElement(i.a,{basename:"/movie_finder"},r.a.createElement(w.Provider,{value:{movieSearched:a,setMovieSearched:n}},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:P}),r.a.createElement(u.a,{path:"/movie_details/:id",component:j}),r.a.createElement(u.a,{component:x}))))};var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.4dbee819.chunk.js.map