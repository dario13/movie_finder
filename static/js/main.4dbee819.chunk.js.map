{"version":3,"sources":["Home/SearchForm.tsx","services/api.tsx","Home/MovieCard.tsx","Home/MoviesList.tsx","Home/Title.tsx","shared/MovieContext.tsx","Home/Home.tsx","MovieDetails/MovieDetails.tsx","404/404.tsx","Routes.tsx","App.tsx","index.tsx"],"names":["SearchForm","props","React","useState","inputMovie","setInputMovie","onSubmit","e","preventDefault","undefined","handleSubmit","className","onChange","event","target","value","type","placeholder","baseUrl","getMovies","movieName","a","axios","get","then","response","data","Error","Promise","reject","Search","map","Poster","catch","getMovieDetails","imdbID","error","Movie","to","src","alt","Title","Year","MoviesList","printList","children","element","key","MovieContext","createContext","reducer","state","action","status","results","Home","useReducer","dispatch","setMovieName","useContext","movieSearched","setMovieSearched","useEffect","length","respond","renderSearchForm","movieEntered","printResults","MovieDetails","id","useParams","goBack","useHistory","details","setDetails","max","onClick","Genre","imdbRating","Director","Country","Plot","Page404","Routes","basename","process","Provider","exact","path","component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4dbee819.chunk.js","sourcesContent":["import React from \"react\";\n\ntype SearchFormProps = {\n  handleSubmit: (movieEntered: string) => void;\n};\n\nconst SearchForm: React.FC<SearchFormProps> = (props) => {\n  const [inputMovie, setInputMovie] = React.useState<string | null>();\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInputMovie(event.target.value);\n  };\n\n  return (\n    <>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          if (inputMovie !== undefined) props.handleSubmit(inputMovie!);\n        }}\n      >\n        <div className=\"field has-addons\">\n          <div className=\"control\">\n            <input\n              className=\"input is-large\"\n              onChange={handleChange}\n              type=\"text\"\n              placeholder=\"Find a movie\"\n            />\n          </div>\n          <div className=\"control\">\n            <button className=\"button is-info is-large\">Search</button>\n          </div>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default SearchForm;\n","//import React from \"react\"\nimport axios from \"axios\";\nimport { movieType } from \"../Home/Home\";\n\nconst apiKey = \"26277d7a\";\nconst baseUrl = \"https://www.omdbapi.com/?apikey=\";\n\nexport const getMovies = async (movieName: string): Promise<movieType[]> => {\n  return await axios\n    .get(`${baseUrl}${apiKey}&s=${movieName}`)\n    .then((response) => {\n      // handle success\n      return response.data.Error !== undefined\n        ? (Promise.reject(\"The movie was not found\"), [])\n        : response.data.Search.map((value: movieType) => {\n            return value.Poster === \"N/A\"\n              ? ((value.Poster = \"https://i.redd.it/valbyu8f61gz.jpg\"), value)\n              : value;\n          });\n    })\n    .catch(() => {\n      // handle error\n      Promise.reject(\"Some error with the api\");\n    });\n};\n\nexport const getMovieDetails = async (imdbID: string): Promise<movieType> => {\n  return await axios\n    .get(`${baseUrl}${apiKey}&i=${imdbID}`)\n    .then((response) => {\n      // handle success\n      if (response.data.Error!) {\n        return Promise.reject({}); //If the response has an error return an empty movieType\n      } else {\n        return response.data.Poster === \"N/A\"\n          ? ((response.data.Poster = \"https://i.redd.it/valbyu8f61gz.jpg\"),\n            response.data)\n          : response.data;\n      }\n    })\n    .catch((error) => {\n      // handle error\n      Promise.reject({}); //If the response has an error return an empty movieType\n    });\n};\n","import React from \"react\";\nimport { movieType } from \"./Home\";\nimport { Link } from \"react-router-dom\";\n\nexport const Movie: React.FC<movieType> = (props) => {\n  return (\n    <Link to={`/movie_details/${props.imdbID}`}>\n      <div className=\"card\">\n        <div className=\"card-image\">\n          <figure className=\"image is-4by3 image-card\">\n            <img src={props.Poster} alt={props.Title}></img>\n          </figure>\n        </div>\n        <div className=\"card-content\">\n          <div className=\"media\">\n            <div className=\"media-content\">\n              <p className=\"title is-4\">{props.Title}</p>\n              <p className=\"subtitle is-6\">{props.Year}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n};\n","import React from \"react\";\nimport { movieType } from \"./Home\";\nimport { Movie } from \"./MovieCard\";\n\ntype ListProps = {\n  children: movieType[]; //Array of objects\n};\n\nexport const MoviesList: React.FC<ListProps> = (props) => {\n  const printList = props.children.map((element) => (\n    <div className=\"MoviesList-item\" key={element.imdbID}>\n      <Movie\n        Poster={element.Poster}\n        Year={element.Year}\n        Title={element.Title}\n        imdbID={element.imdbID}\n      />\n    </div>\n  ));\n\n  return (\n    <>\n      <div className=\"MoviesList\">{printList}</div>\n    </>\n  );\n};\n","import React from \"react\";\n\ntype TitleProps = {\n  children: React.ReactNode;\n};\n\nconst Title: React.FC<TitleProps> = (props) => {\n  return <h1 className=\"title\">{props.children}</h1>;\n};\n\nexport default Title;\n","import React from \"react\";\n\nexport const MovieContext = React.createContext({});\n","import React from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport { getMovies } from \"../services/api\";\nimport { MoviesList } from \"./MoviesList\";\nimport Title from \"./Title\";\nimport { MovieContext } from \"../shared/MovieContext\";\n\ntype movieId = {\n  imdbID: string;\n};\n\nexport type movieFields = {\n  Title: string;\n  Year: string;\n  Poster?: string;\n  Plot?: string;\n  Director?: string;\n  Genre?: string;\n  Languague?: string;\n  Country?: string;\n  imdbRating?: string;\n};\n\nexport type movieType = movieId & movieFields;\n\ntype State =\n  | { status: \"empty\" }\n  | { status: \"loading\" }\n  | { status: \"error\"; error: string }\n  | { status: \"success\"; data: movieType[] };\n\ntype Action =\n  | { type: \"request\" }\n  | { type: \"success\"; results: movieType[] }\n  | { type: \"failure\"; error: string };\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case \"request\":\n      return { status: \"loading\" };\n    case \"success\":\n      return { status: \"success\", data: action.results };\n    case \"failure\":\n      return { status: \"error\", error: action.error };\n    default:\n      return { status: \"empty\" };\n  }\n}\n\nexport const Home: React.FC = () => {\n  const [state, dispatch] = React.useReducer(reducer, { status: \"empty\" });\n  //  const [moviesArray, setMoviesArray] = React.useState<movieType[]>([]);\n  const [movieName, setMovieName] = React.useState<string>(\"\");\n  const { movieSearched, setMovieSearched }: any = React.useContext(\n    MovieContext\n  );\n\n  React.useEffect(() => {\n    if (state.status === \"empty\" && movieSearched.length > 0) {\n      //Load the context if exists\n      dispatch({ type: \"success\", results: movieSearched });\n    } else {\n      // Else call the api\n      if (state.status === \"loading\" && movieName !== \"\") {\n        getMovies(movieName!)\n          .then((respond) => {\n            return respond.length > 0\n              ? (dispatch({ type: \"success\", results: respond }),\n                setMovieSearched(respond))\n              : dispatch({ type: \"failure\", error: \"no hay resultados\" });\n          })\n          .catch((error) => dispatch({ type: \"failure\", error }));\n      }\n    }\n  }, [movieSearched, movieName, setMovieSearched, state]);\n\n  const handleSubmit = (movieEntered: string) => {\n    setMovieName(movieEntered);\n    if (movieEntered !== \"\") dispatch({ type: \"request\" });\n  };\n\n  const printResults = () => {\n    switch (state.status) {\n      case \"empty\":\n        return <></>;\n      case \"loading\":\n        return (\n          <div className=\"centered\">\n            <div className=\"custom-spinner\"></div>\n          </div>\n        );\n      case \"success\":\n        return (\n          <div className=\"PrintResults-wrapper\">\n            <MoviesList>{state.data!}</MoviesList>\n          </div>\n        );\n      case \"error\":\n        return (\n          <h2 className=\"subtitle is-2\">\n            &#128169; There aren't results &#128078; <br />\n            Please try again!\n          </h2>\n        );\n    }\n  };\n\n  const renderSearchForm = () => {\n    switch (state.status) {\n      case \"empty\":\n        return \"SearchForm-wrapper centered\";\n      default:\n        return \"SearchForm-wrapper\";\n    }\n  };\n\n  return (\n    <>\n      <div className={renderSearchForm()}>\n        <Title>Movie Finder</Title>\n        <SearchForm handleSubmit={handleSubmit} />\n      </div>\n      <div className=\"container\">{printResults()}</div>\n    </>\n  );\n};\n","import React from \"react\";\nimport { useParams, useHistory } from \"react-router\";\nimport { getMovieDetails } from \"../services/api\";\n//import { createBrowserHistory } from 'history';\nimport { movieFields } from \"../Home/Home\";\n\nexport const MovieDetails = () => {\n  //const { id } = props.match.params;\n  const { id } = useParams();\n  const { goBack } = useHistory();\n  const [details, setDetails] = React.useState<movieFields | null>();\n\n  React.useEffect(() => {\n    getMovieDetails(id)\n      .then((respond: movieFields) => setDetails(respond))\n      .catch(() => setDetails(null));\n  }, [id]);\n\n  const renderDetails = () => {\n    return (\n      <div className=\"container\">\n        <div className=\"columns\">\n          <div className=\"column\"></div>\n          <div className=\"column is-half\">\n            <div className=\"card\">\n              <div className=\"card-content\">\n                <div className=\"content\">\n                  <button className=\"button is-info\" onClick={() => goBack()}>\n                    &#8617;\n                  </button>\n                  <h1 className=\"title is-1\">{details?.Title}</h1>\n                  <figure className=\"image-movie\">\n                    <img src={details?.Poster} alt=\"poster\"></img>\n                  </figure>\n                  <h2 className=\"subtitle is-3\">{details?.Year}</h2>\n                  <div>\n                    <p>\n                      <strong>Genre: </strong>\n                      {details?.Genre}\n                    </p>\n                    <p>\n                      <strong>Rating: </strong>\n                      {details?.imdbRating}/10 &#11088;\n                    </p>\n                    <p>\n                      <strong>Director: </strong>\n                      {details?.Director}\n                    </p>\n                    <p>\n                      <strong>Country: </strong>\n                      {details?.Country}\n                    </p>\n                    <p>{details?.Plot}</p>\n                  </div>\n                </div>\n                <div></div>\n              </div>\n            </div>\n          </div>\n          <div className=\"column\"></div>\n        </div>\n      </div>\n    );\n  };\n\n  const renderProgressBar = () => {\n    return (\n      <div className=\"container\">\n        <div className=\"columns is-vcentered\">\n          <progress className=\"progress is-large is-info\" max=\"10\"></progress>\n        </div>\n      </div>\n    );\n  };\n\n  const renderConditional = () => {\n    //return renderProgressBar();\n    return details === undefined ? renderProgressBar() : renderDetails();\n  };\n\n  //<button onClick={(e)=>handlerClick}>Goback</button>\n  return <>{renderConditional()}</>;\n};\n","import React from \"react\";\n\nexport const Page404 = () => {\n  return (\n    <div>\n      <h1 className=\"title\">404</h1>\n      <p></p>\n      <p></p>\n      <h2 className=\"subtitle\">Not Found</h2>\n    </div>\n  );\n};\n","/**\n * cmmb / rfca\n */\n\nimport React from \"react\";\n\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\n\nimport { Home } from \"./Home/Home\";\nimport { MovieDetails } from \"./MovieDetails/MovieDetails\";\nimport { MovieContext } from \"./shared/MovieContext\";\nimport { movieType } from \"./Home/Home\";\nimport { Page404 } from \"./404/404\";\n\nexport const Routes: React.FC = () => {\n  const [movieSearched, setMovieSearched] = React.useState<movieType[]>([]);\n\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <MovieContext.Provider value={{ movieSearched, setMovieSearched }}>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route path=\"/movie_details/:id\" component={MovieDetails} />\n          <Route component={Page404} />\n        </Switch>\n      </MovieContext.Provider>\n    </BrowserRouter>\n  );\n};\n","import React from \"react\";\nimport \"./App.css\";\nimport \"./mystyles.scss\";\n//import \"bulma/css/bulma.css\";\n\nimport { Routes } from \"./Routes\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}